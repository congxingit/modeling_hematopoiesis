# Modeling differentiation pathways of hematopoiesis

The repository contains codes and data for the mathematical modeling of hematopoiesis in [Morcos et al.,2021](https://www.biorxiv.org/content/10.1101/2020.08.21.261552v1.full). It holds necessary files for modeling hematopoiesis in unperturbed state (subdirectory 'unperturbed'), stimulated by Romiplostim (subdirectory 'TPO') and upon ageing (subdirectory 'ageing').

The package [Data2Dynamics](https://github.com/Data2Dynamics/d2d) (D2D) was used for computational inference. The installation and use of the package are briefly listed below.
1. System requirements. The D2D package is a free Matlab package available for Linux, Mac and Windows systems. To run the model fitting, recent version of MATLAB (R2016b or newer), as well as MATLAB Symbolic and Optimization Toolboxes are required. Recent version of GNU compiler colection (GCC) needs to be installed. More details on the system requirements can be found in D2D [wiki page](https://github.com/Data2Dynamics/d2d/wiki/Installation). Two recent version (2017 and 2020) has been tested in this study.
2. Installation guide. Please follow the [instructions of the D2D wiki](https://github.com/Data2Dynamics/d2d/wiki/Installation). The installation time should be under 10 minutes if all requirements are fullfilled. 
3. Demo. The subdirectory 'unperturbed' can be a demonstration of loading and plotting the inference results for unperturbed hematopoiesis. The instructions are provided in the comment sessions of the 'main.m' file in the same directory. The runtime of the demo should be within 20 minutes depending on the hardware of the computer (time mostly spends on compiling ODEs).
4. Instructions for use. The instructions for loading and plotting the inference results are provided in the comment sessions of the 'main.m' files in each subdirectory.
